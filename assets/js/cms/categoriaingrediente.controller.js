/* Generated by Babel */
"use strict";

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var CategoriaIngredienteController = (function () {
    function CategoriaIngredienteController(element) {
        _classCallCheck(this, CategoriaIngredienteController);

        this.element = element;
        this.CRUD_SERVICE = {
            insert: "../api/v1/categoria-ingrediente",
            get: "../api/v1/categoria-ingrediente/{id}",
            "delete": "../api/v1/categoria-ingrediente/{id}",
            update: "../api/v1/categoria-ingrediente/{id}",
            toggle: "../api/v1/categoria-ingrediente/{id}/ativar"
        };
    }

    _createClass(CategoriaIngredienteController, [{
        key: "init",
        value: function init() {
            var crudController = f4fApp.buildCrud(this.element.find("[data-crud-controller]"));
            if (crudController && crudController.init) {
                crudController.init(this, this.CRUD_SERVICE);
            }
        }
    }, {
        key: "buildTemplate",
        value: function buildTemplate(categoria) {
            var linha = $("<div class='linha'>").attr("data-param-id", categoria.id);

            $("<div class='coluna image-small'>").append($("<img>").attr("src", "../" + categoria.foto).attr("alt", categoria.titulo)).appendTo(linha);

            $("<div class='coluna middle-left-align'>").append($("<span>").text(categoria.titulo)).appendTo(linha);

            $("<div class='coluna'>").append($("<span class='toggle'>").addClass(parseInt(categoria.ativo) ? "desativar" : "ativar")).append($("<hr>")).append($("<span class='editar'>")).append($("<hr>")).append($("<span class='excluir'>")).appendTo(linha);

            return linha;
        }
    }, {
        key: "validateForm",
        value: function validateForm(data) {
            if (!data.uploadData && !data.foto) {
                f4fApp.abrirToast("Selecione uma imagem.");
                return false;
            }

            return true;
        }
    }, {
        key: "onInsert",
        value: function onInsert() {
            f4fApp.abrirToast("Categoria inserida com sucesso.");
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            f4fApp.abrirToast("Categoria atualizada com sucesso.");
            this.element.find("#titulo-acao").text("Cadastrar uma Categoria");
        }
    }, {
        key: "onToggleStatus",
        value: function onToggleStatus(isDisable) {
            f4fApp.abrirToast("Categoria " + (isDisable ? "desativada" : "ativada") + " com sucesso.");
        }
    }, {
        key: "onDelete",
        value: function onDelete() {
            f4fApp.abrirToast("Categoria exclu√≠da com sucesso.");
        }
    }, {
        key: "onEditStarted",
        value: function onEditStarted() {
            this.element.find("#titulo-acao").text("Editar Categoria");
        }
    }]);

    return CategoriaIngredienteController;
})();

f4fApp.addController("CategoriaIngredienteController", CategoriaIngredienteController);
